---
import Layout from "@/Layouts/Layout.astro";
import ArticleHeader from "@/components/article/ArticleHeader.astro";
import ArticleAuthor from "@/components/article/ArticleAuthor.astro";
import SocialShare from "@/components/article/SocialShare.astro";
import ArticleImage from "@/components/article/ArticleImage.astro";
import ArticleBody from "@/components/article/ArticleBody.astro";
import Button from "@/components/common/Button.astro";
import articleData from "@/content/articlePage/RU/Article.json"; // for author, etc.
---

<Layout
  title="Article Preview"
  navbarVariant="default"
  includePreFooterCTA={false}
  useClientRouter={true}
>
  <main class="bg-base-200 min-h-screen">
    <div id="preview-container" class="max-w-[1512px] mx-auto" x-data="$lazy('articleCreator', { isPreview: true })">
      <!-- Article Header Section -->
      <div class="pt-[150px] pb-[100px] flex flex-col items-center gap-[100px]">
        <div class="flex flex-col gap-8 max-w-[825px] w-full">
          <ArticleHeader
            category="Preview Category"
            :title="article.title"
          />
          <ArticleAuthor
            name={articleData.author.name}
            avatarUrl={articleData.author.avatarUrl}
          />
          <SocialShare readTime="5 min read" />
        </div>

        <template x-if="article.imageUrl">
          <img :src="article.imageUrl" alt="Article Image Preview" class="w-full h-auto max-w-[1200px] rounded-lg shadow-lg">
        </template>
      </div>

      <!-- Article Content -->
      <div class="max-w-[1400px] mx-auto px-14 pb-[100px]">
        <!-- This is a simplified body for preview -->
        <div class="prose lg:prose-xl max-w-[825px] mx-auto">
            <template x-for="paragraph in article.paragraphs">
                <p x-text="paragraph"></p>
            </template>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="fixed bottom-10 right-10 flex gap-4 bg-white p-4 rounded-lg shadow-lg">
        <Button variant="secondary" @click="returnToEdit()">Return to Edit</Button>
        <Button variant="primary" @click="saveArticle()">Save Article</Button>
      </div>
    </div>
  </main>
</Layout>

