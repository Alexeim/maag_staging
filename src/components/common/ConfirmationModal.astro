---
import Button from "@/components/common/Button.astro";
---

<div
  x-data
  x-show="$store.ui.confirmation.show"
  x-transition:enter="transition ease-out duration-300"
  x-transition:enter-start="opacity-0"
  x-transition:enter-end="opacity-100"
  x-transition:leave="transition ease-in duration-200"
  x-transition:leave-start="opacity-100"
  x-transition:leave-end="opacity-0"
  class="fixed inset-0 z-[900] flex items-center justify-center"
  style="display: none;"
>
  <!-- Overlay -->
  <div class="fixed inset-0 bg-black/50" @click="$store.ui.hideConfirmation()"></div>

  <!-- Modal Content -->
  <div
    x-show="$store.ui.confirmation.show"
    x-transition:enter="transition ease-out duration-300"
    x-transition:enter-start="opacity-0 scale-95"
    x-transition:enter-end="opacity-100 scale-100"
    x-transition:leave="transition ease-in duration-200"
    x-transition:leave-start="opacity-100 scale-100"
    x-transition:leave-end="opacity-0 scale-95"
    class="relative bg-base-100 rounded-lg shadow-xl p-8 w-full max-w-md"
  >
    <h2 class="text-xl font-bold mb-4">Confirmation</h2>
    <p class="mb-6" x-text="$store.ui.confirmation.message"></p>
    
    <div class="flex justify-end gap-4">
      <Button variant="secondary" @click="$store.ui.hideConfirmation()">Cancel</Button>
      <Button variant="error" @click="$store.ui.confirmation.onConfirm(); $store.ui.hideConfirmation();">Confirm</Button>
    </div>
  </div>
</div>